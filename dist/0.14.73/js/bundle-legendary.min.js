import{d as e,e as a,g as n,r as t,c as i}from"./utils.min.js";import{getItemDetails as o,getItemBundles as r}from"./services.min.js";import"./config.min.js";function c(e){if(!e)return null;if("string"!=typeof e)return null;if(e.startsWith("http")||e.startsWith("//"))return e;const a=e.startsWith("file/")?e.slice(5):e;return`https://render.guildwars2.com/file/${a.startsWith("/")?a.slice(1):a}`}const d={prices:new Map,items:new Map,meta:null};function l(e){const a=Number(e);return Number.isFinite(a)&&d.prices.get(a)||null}function m(e){const a=Number(e);return Number.isFinite(a)&&d.items.get(a)||null}function s(e,a={}){const n=Number(e);if(!Number.isFinite(n)||n<=0)return null;const t={...d.items.get(n)||{id:n},id:n};return null!=a.name&&(t.name=a.name),null!=a.type&&(t.type=a.type),null!=a.rarity&&(t.rarity=a.rarity),null!=a.level&&(t.level=a.level),"string"==typeof a.icon&&a.icon&&(t.icon=c(a.icon)),d.items.set(n,t),t}function u(e,a){const n=Number(e);if(!Number.isFinite(n)||n<=0)return;const t=Number.isFinite(a?.buy_price)?a.buy_price:null,i=Number.isFinite(a?.sell_price)?a.sell_price:null;null==t&&null==i||d.prices.set(n,{buy_price:t,sell_price:i})}function p(e,a){if(!a)return;a.item&&s(e,a.item);const n=function(e){if(!e||"object"!=typeof e)return null;const a=Number.isFinite(e.buy_price)?e.buy_price:Number.isFinite(e.buys?.unit_price)?e.buys.unit_price:null,n=Number.isFinite(e.sell_price)?e.sell_price:Number.isFinite(e.sells?.unit_price)?e.sells.unit_price:null;return null==a&&null==n?null:{buy_price:a,sell_price:n}}(a.market);n&&u(e,n)}async function y(e){const a=Number(e);if(!Number.isFinite(a)||a<=0)return null;const n=d.items.get(a);if(n&&(n.name||n.type||n.rarity||n.icon))return n;try{const e=await o(a);if(e){return s(a,e)||e}}catch(a){console.warn(`[LegendaryCrafting] No se pudo obtener detalles para ${e}`,a)}return n||null}function g(e,a=new Set,n=new Set){if(!e||"object"!=typeof e)return a;if(n.has(e))return a;if(n.add(e),null!=e.id){const n=Number(e.id);Number.isFinite(n)&&n>0&&a.add(n)}return(Array.isArray(e.components)?e.components:[]).forEach(e=>g(e,a,n)),a}class f{constructor(e,a,n,t=null,i=1,o=null){this.id=e,this.name=a,this.type=n||"crafting_material",this.rarity=t,this.count=i,this.parent=o,this.components=[],this.icon=null,this.source=null,this._buyPrice=0,this._sellPrice=0,this._priceLoaded=!1,Object.defineProperty(this,"icon",{get(){return this._icon||this._generateIconUrl()},set(e){this._icon=e},enumerable:!0,configurable:!0})}async _generateIconUrl(){if(this._icon)return this._icon.startsWith("http")?this._icon:`https://render.guildwars2.com/file/${this._icon}`;if(!this.id)return this._getDefaultIconUrl();try{const e=await y(this.id);return e&&e.icon?(this._icon=e.icon,this._formatIconUrl(this._icon)):this._getDefaultIconUrl()}catch(e){return console.warn("No se pudo cargar el icono para el ítem",this.id,e),this._getDefaultIconUrl()}}_getDefaultIconUrl(){return"https://render.guildwars2.com/file/0120CB0368B7953F0D3BD2A0C9100BCF0839FF4D/219035.png"}_formatIconUrl(e){if(!e)return null;if(e.startsWith("http"))return e;const a=e.startsWith("file/")?e.substring(5):e;return`https://render.guildwars2.com/file/${a.startsWith("/")?a.substring(1):a}`}addComponent(e){e&&(this.components.push(e),e.parent=this)}get buyPrice(){return this._buyPrice||0}get sellPrice(){return this._sellPrice||0}setPrices(e,a){this._buyPrice=e||0,this._sellPrice=a||0,this._priceLoaded=!0}isPriceLoaded(){return this._priceLoaded}getTotalBuyPrice(){return this.buyPrice*this.count}getTotalSellPrice(){return this.sellPrice*this.count}calculateTotals(e=1){const a=e*this.count;if(!this.components||0===this.components.length)return{buy:this.buyPrice*a,sell:this.sellPrice*a,isCraftable:!1};if(19675===this.id){let a=0,n=0,t=!0,i=null;if(77===this.count?i=[250,250,250,1500].map(a=>a*e):38===this.count&&(i=this.components.map(()=>38*e)),i)return this.components.forEach((e,o)=>{const r=e.count;e.count=i[o]||0;const c=e.calculateTotals(1);e.count=r,a+=c.buy,n+=c.sell,c.buy<=0&&c.sell<=0&&(t=!1)}),{buy:a,sell:n,isCraftable:t}}let n=0,t=0,i=!0;for(const e of this.components){const o=e.calculateTotals(a);n+=o.buy,t+=o.sell,o.buy<=0&&o.sell<=0&&(i=!1)}return i&&n>0&&!this._priceLoaded&&(this._buyPrice=n/a,this._sellPrice=t/a,this._priceLoaded=!0),{buy:this.buyPrice*a,sell:this.sellPrice*a,isCraftable:i}}toJSON(){return{id:this.id,name:this.name,type:this.type,rarity:this.rarity,count:this.count,buyPrice:this._buyPrice,sellPrice:this._sellPrice,icon:this.icon,source:this.source,components:this.components.map(e=>e.toJSON())}}}function _(e){return{id:e.id,qty:e.count,buy_price:e.buyPrice>0?e.buyPrice:null,sell_price:e.sellPrice>0?e.sellPrice:null,is_craftable:Array.isArray(e.components)&&e.components.length>0,children:Array.isArray(e.components)?e.components.map(_):[]}}function h(e){e.count=e.qty,delete e.qty,Array.isArray(e.children)&&e.children.forEach(h)}function b(e,a){if(a.total_buy=e.total_buy,a.total_sell=e.total_sell,a.total_crafted=e.total_crafted,a.crafted_price=e.crafted_price,e.children&&a.components)for(let n=0;n<e.children.length&&n<a.components.length;n++)b(e.children[n],a.components[n])}const D={24295:{name:"Vial de sangre poderosa",type:"crafting_material"},24283:{name:"Vesícula de veneno poderoso",type:"crafting_material"},24300:{name:"Tótem elaborado",type:"crafting_material"},24277:{name:"Montón de polvo cristalino",type:"crafting_material"},24351:{name:"Colmillo feroz",type:"crafting_material"},24289:{name:"Escama blindada",type:"crafting_material"},24357:{name:"Garra despiadada",type:"crafting_material"},24358:{name:"Hueso antiguo",type:"crafting_material"},19721:{name:"Pegote de ectoplasma",type:"crafting_material"},30684:{name:"Colmilloescarcha",type:"legendary"},30687:{name:"Incineradora",type:"legendary"},30692:{name:"El Festín",type:"legendary"},30695:{name:"Meteorológico",type:"legendary"},30701:{name:"Kraitkin",type:"legendary"},30691:{name:"Kamhoali'i Kotaki",type:"legendary"},30697:{name:"Frenesí",type:"legendary"},30698:{name:"El Bifrost",type:"legendary"},30686:{name:"El Soñador",type:"legendary"},30694:{name:"El Depredador",type:"legendary"},30685:{name:"Kudzu",type:"legendary"},30690:{name:"El Juggernaut",type:"legendary"},30689:{name:"Eternidad",type:"legendary"},30703:{name:"Amanecer",type:"legendary"},30702:{name:"Aullador",type:"legendary"},30700:{name:"Rodgort",type:"legendary"},30696:{name:"Las Profecías del Buscador de la Llama",type:"legendary"},30688:{name:"El Juglar",type:"legendary"},30699:{name:"Haz",type:"legendary"},30704:{name:"Crepúsculo",type:"legendary"},19672:{name:"Don del poder",type:"account_bound"},19673:{name:"Don de la magia",type:"account_bound"},19677:{name:"Don de la exploración",type:"account_bound"},19678:{name:"Don de la batalla",type:"account_bound"},19664:{name:"Don de Ascalon",type:"account_bound"},19674:{name:"Don del dominio",type:"account_bound"},19648:{name:"Don del Crepúsculo",type:"crafting_material"},19621:{name:"Don del metal",type:"crafting_material"},19631:{name:"Don de la oscuridad",type:"crafting_material"},19626:{name:"Don de la suerte",type:"crafting_material"},19665:{name:"Don del noble",type:"crafting_material"},19635:{name:"Don del entretenimiento",type:"crafting_material"},19650:{name:"Don del Festín",type:"crafting_material"},19645:{name:"Don de Incineradora",type:"crafting_material"},19624:{name:"Don del hielo",type:"crafting_material"},19670:{name:"Don del Santuario",type:"crafting_material"},19657:{name:"Don de Kamohoali'i Kotaki",type:"crafting_material"},19669:{name:"Don de Zhaitan",type:"crafting_material"},19659:{name:"Don del Frenesí",type:"crafting_material"},19643:{name:"Don del agua",type:"crafting_material"},19638:{name:"Don del color",type:"crafting_material"},19654:{name:"Don del Bifrost",type:"crafting_material"},19660:{name:"Don del Soñador",type:"crafting_material"},19628:{name:"Estatua de unicornio",type:"crafting_material"},19667:{name:"Don de las espinas",type:"crafting_material"},19661:{name:"Don del Depredador",type:"crafting_material"},19671:{name:"Don del conocimiento",type:"crafting_material"},19636:{name:"Don del sigilo",type:"crafting_material"},19647:{name:"Don del Amanecer",type:"crafting_material"},19632:{name:"Don de la luz",type:"crafting_material"},19662:{name:"Don de Aullador",type:"crafting_material"},19627:{name:"Don de la naturaleza",type:"crafting_material"},19644:{name:"Don de Kudzu",type:"crafting_material"},19649:{name:"Don del Juggernaut",type:"crafting_material"},19625:{name:"Don de Colmilloescarcha",type:"crafting_material"},19651:{name:"Don de Gracia",type:"crafting_material"},19622:{name:"Don de la madera",type:"crafting_material"},19666:{name:"Don del herrador",type:"crafting_material"},19658:{name:"Don de Kraitkin",type:"crafting_material"},19623:{name:"Don de la energía",type:"crafting_material"},19656:{name:"Don de Rodgort",type:"crafting_material"},19653:{name:"Don de Las Profecías del Buscador de la Llama",type:"crafting_material"},19629:{name:"Don de la historia",type:"crafting_material"},19646:{name:"Don del Juglar",type:"crafting_material"},19630:{name:"Don de la música",type:"crafting_material"},19655:{name:"Don de Haz",type:"crafting_material"},19639:{name:"Don del relámpago",type:"crafting_material"},19652:{name:"Don del Meteorológico",type:"crafting_material"},19637:{name:"Don del clima",type:"crafting_material"},19641:{name:"Estatua de tiburón",type:"crafting_material"},19688:{name:"Lingote de acero",type:"crafting_material"},19685:{name:"Lingote de oricalco",type:"crafting_material"},19684:{name:"Lingote de mithril",type:"crafting_material"},19683:{name:"Lingote de hierro",type:"crafting_material"},19681:{name:"Lingote de aceroscuro",type:"crafting_material"},19686:{name:"Lingote de platino",type:"crafting_material"},24592:{name:"Sello superior de vitalidad",type:"upgrade_component"},24632:{name:"Sello superior de veneno",type:"upgrade_component"},24612:{name:"Sello superior de agonía",type:"upgrade_component"},24561:{name:"Sello superior de rabia",type:"upgrade_component"},24572:{name:"Sello superior de invalidación",type:"upgrade_component"},24571:{name:"Sello superior de pureza",type:"upgrade_component"},24615:{name:"Sello superior de fuerza",type:"upgrade_component"},24618:{name:"Sello superior de precisión",type:"upgrade_component"},24601:{name:"Sello superior de batalla",type:"upgrade_component"},24554:{name:"Sello superior de aire",type:"upgrade_component"},24584:{name:"Sello superior de benevolencia",type:"upgrade_component"},24562:{name:"Sello superior de fortaleza",type:"upgrade_component"},24865:{name:"Sello superior de celeridad",type:"upgrade_component"},24651:{name:"Sello superior de sangre",id:24570,type:"upgrade_component"},24555:{name:"Sello superior de hielo",type:"upgrade_component"},24548:{name:"Sello superior de fuego",type:"upgrade_component"},24607:{name:"Sello superior de energía",type:"upgrade_component"},24310:{name:"Piedra imán de ónice",type:"crafting_material"},24320:{name:"Piedra imán glacial",type:"crafting_material"},24340:{name:"Piedra imán corrupta",type:"crafting_material"},24315:{name:"Piedra imán fundida",type:"crafting_material"},24325:{name:"Piedra imán de destructor",type:"crafting_material"},24305:{name:"Piedra imán cargada",type:"crafting_material"},19709:{name:"Tabla de madera ancestral",type:"crafting_material"},19711:{name:"Tabla de madera sólida",type:"crafting_material"},19712:{name:"Tabla de madera antigua",type:"crafting_material"},19714:{name:"Tabla de madera curtida",type:"crafting_material"},19728:{name:"Tabla de madera de arista",type:"crafting_material"},24522:{name:"Orbe de ópalo",type:"crafting_material"},24512:{name:"Orbe de crisocola",type:"crafting_material"},24274:{name:"Montón de polvo radiante",type:"crafting_material"},24276:{name:"Montón de polvo incandescente",type:"crafting_material"},24275:{name:"Montón de polvo luminoso",type:"crafting_material"},24277:{name:"Montón de polvo cristalino",type:"crafting_material"},29183:{name:"Veneno",type:"weapon"},29171:{name:"Carcharias",type:"weapon"},29180:{name:"La Leyenda",type:"weapon"},29178:{name:"El Amante",type:"weapon"},29175:{name:"El Cazador",type:"weapon"},29170:{name:"El Coloso",type:"weapon"},29184:{name:"Aullido",type:"weapon"},29177:{name:"El Elegido",type:"weapon"},29168:{name:"El Bardo",type:"weapon"},29181:{name:"Zas",type:"weapon"},29176:{name:"Tormenta",type:"weapon"},29172:{name:"Hoja de Kudzu",type:"weapon"},29167:{name:"Chispa",type:"weapon"},29166:{name:"Diente de Colmilloescarcha",type:"weapon"},29173:{name:"El Energizador",type:"weapon"},29174:{name:"Pistola del Caos",type:"weapon"},29169:{name:"Alba",type:"weapon"},29182:{name:"Llama de Rodgort",type:"weapon"},29185:{name:"Anochecer",type:"weapon"},19642:{name:"Estatua de anguila",type:"crafting_material"},19640:{name:"Estatua de lobo",type:"crafting_material"},19628:{name:"Estatua de unicornio",type:"crafting_material"},12545:{name:"Trufa orriana",type:"crafting_material"},12128:{name:"Baya omnom",type:"crafting_material"},19732:{name:"Trozos de cuero endurecido",type:"crafting_material"},19633:{name:"Vial de azogue",type:"crafting_material"},19634:{name:"Vial de llama líquida",type:"crafting_material"},20323:{name:"Tinte sin identificar",type:"crafting_material"},19721:{name:"Pegote de ectoplasma",type:"crafting_material"},19925:{name:"Esquirla de obsidiana",type:"crafting_material"},20797:{name:"Esquirla de hematites",type:"crafting_material"},20796:{name:"Piedra filosofal",type:"crafting_material"},19976:{name:"Moneda mística",type:"crafting_material"},19676:{name:"Piedra rúnica helada",type:"crafting_material"},12544:{name:"Chile fantasma",type:"crafting_material"},19746:{name:"Haz de gasa",type:"crafting_material"},24502:{name:"Doblón de plata",type:"crafting_material"},19675:{name:"Trébol místico",type:"crafting_material"},19737:{name:"Retal de cuero curado endurecido",type:"crafting_material"},2e4:{name:"Caja de diversión",type:"crafting_material"}},I={id:19674,name:"Don del dominio",type:"account_bound",count:1,components:[{id:19925,name:"Esquirla de obsidiana",count:250},{id:20797,name:"Esquirla de hematites",count:1},{id:19677,name:"Don de la exploración",count:1},{id:19678,name:"Don de la batalla",count:1}]},v={id:19626,name:"Don de la suerte",type:"crafting_material",count:1,components:[{id:19721,name:"Pegote de ectoplasma",count:250},{id:19675,name:"Trébol místico",type:"account_bound",count:77,components:[{id:19976,name:"Moneda mística",count:250},{id:19721,name:"Pegote de ectoplasma",count:250},{id:19925,name:"Esquirla de obsidiana",count:250},{id:20796,name:"Piedra filosofal",count:1500}]},{id:19673,name:"Don de la magia",type:"crafting_material",count:1,components:[{id:24295,name:"Vial de sangre poderosa",count:250},{id:24283,name:"Vesícula de veneno poderoso",count:250},{id:24300,name:"Tótem elaborado",count:250},{id:24277,name:"Montón de polvo cristalino",count:250}]},{id:19672,name:"Don del poder",type:"crafting_material",count:1,components:[{id:24351,name:"Colmillo feroz",count:250},{id:24289,name:"Escama blindada",count:250},{id:24357,name:"Garra despiadada",count:250},{id:24358,name:"Hueso antiguo",count:250}]}]},P={30692:{id:30692,name:"El Festín",type:"legendary_mace",components:[I,v,{id:19650,name:"Don de El Festín",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24607,name:"Sello superior de energía",count:1},{id:19621,name:"Don del metal",type:"crafting_material",count:1,components:[{id:19685,name:"Lingote de oricalco",count:250},{id:19684,name:"Lingote de mithril",count:250},{id:19681,name:"Lingote de aceroscuro",count:250},{id:19686,name:"Lingote de platino",count:250}]},{id:19635,name:"Don del entretenimiento",type:"crafting_material",count:1,components:[{id:19665,name:"Don del noble",count:1},{id:19685,name:"Lingote de oricalco",count:250},{id:19746,name:"Haz de gasa",count:250},{id:2e4,name:"Caja de diversión",count:5}]}]},{id:29173,name:"El Energizador (precursora)",type:"weapon",count:1}]},30699:{id:30699,name:"Haz",type:"legendary_staff",components:[I,v,{id:19655,name:"Don de Haz",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24554,name:"Sello superior de aire",count:1},{id:19621,name:"Don del metal",type:"crafting_material",count:1,components:[{id:19685,name:"Lingote de oricalco",count:250},{id:19684,name:"Lingote de mithril",count:250},{id:19681,name:"Lingote de aceroscuro",count:250},{id:19686,name:"Lingote de platino",count:250}]},{id:19639,name:"Don del relámpago",type:"crafting_material",count:1,components:[{id:19664,name:"Don de Ascalon",count:1},{id:24305,name:"Piedra imán cargada",count:100},{id:19685,name:"Lingote de oricalco",count:250},{id:19746,name:"Haz de gasa",count:250}]}]},{id:29181,name:"Zas (precursora)",type:"weapon",count:1}]},30696:{id:30696,name:"Las Profecías del Buscador de la Llama",type:"legendary_focus",components:[I,v,{id:19653,name:"Don de Las Profecías del Buscador de la Llama",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24601,name:"Sello superior de batalla",count:1},{id:19621,name:"Don del metal",type:"crafting_material",count:1,components:[{id:19685,name:"Lingote de oricalco",count:250},{id:19684,name:"Lingote de mithril",count:250},{id:19681,name:"Lingote de aceroscuro",count:250},{id:19686,name:"Lingote de platino",count:250}]},{id:19629,name:"Don de la historia",type:"crafting_material",count:1,components:[{id:19664,name:"Don de Ascalon",count:1},{id:24277,name:"Montón de polvo cristalino",count:250},{id:19732,name:"Retal de cuero curado endurecido",count:250},{id:24310,name:"Piedra imán de ónice",count:100}]}]},{id:29177,name:"El Elegido (precursora)",type:"weapon",count:1}]},30688:{id:30688,name:"El Juglar",type:"legendary_shortbow",components:[I,v,{id:19646,name:"Don del Juglar",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24607,name:"Sello superior de energía",count:1},{id:19623,name:"Don de la energía",type:"crafting_material",count:1,components:[{id:24277,name:"Montón de polvo cristalino",count:250},{id:24295,name:"Montón de polvo incandescente",count:250},{id:24283,name:"Montón de polvo luminoso",count:250},{id:24289,name:"Montón de polvo radiante",count:250}]},{id:19630,name:"Don de la música",type:"crafting_material",count:1,components:[{id:19665,name:"Don del noble",count:1},{id:19685,name:"Lingote de oricalco",count:250},{id:19746,name:"Haz de gasa",count:250},{id:24502,name:"Orbe de ópalo",count:100}]}]},{id:29184,name:"El Bardo (precursora)",type:"weapon",count:1}]},30695:{id:30695,name:"Meteorológico",type:"legendary_scepter",components:[I,v,{id:19652,name:"Don del Meteorológico",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24554,name:"Sello superior de aire",count:1},{id:19623,name:"Don de la energía",type:"crafting_material",count:1,components:[{id:24277,name:"Montón de polvo cristalino",count:250},{id:24295,name:"Montón de polvo incandescente",count:250},{id:24283,name:"Montón de polvo luminoso",count:250},{id:24289,name:"Montón de polvo radiante",count:250}]},{id:19637,name:"Don del clima",type:"crafting_material",count:1,components:[{id:19671,name:"Don del conocimiento",count:1},{id:24305,name:"Piedra imán cargada",count:100},{id:19732,name:"Trozos de cuero endurecido",count:250},{id:19685,name:"Lingote de oricalco",count:250}]}]},{id:29176,name:"Tormenta (precursora)",type:"weapon",count:1}]},30684:{id:30684,name:"Colmilloescarcha",type:"legendary_axe",components:[I,v,{id:19625,name:"Don de Colmilloescarcha",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24555,name:"Sello superior de hielo",count:1},{id:19621,name:"Don del metal",type:"crafting_material",count:1,components:[{id:19685,name:"Lingote de oricalco",count:250},{id:19684,name:"Lingote de mithril",count:250},{id:19681,name:"Lingote de aceroscuro",count:250},{id:19686,name:"Lingote de platino",count:250}]},{id:19624,name:"Don del hielo",type:"crafting_material",count:1,components:[{id:19670,name:"Don del santuario",count:1},{id:24340,name:"Piedra imán corrupta",count:100},{id:24320,name:"Piedra imán glacial",count:100},{id:19685,name:"Fragmento de oricalco",count:250}]}]},{id:29166,name:"Diente de colmillo escarcha (precursora)",type:"precursor",count:1}]},30687:{id:30687,name:"Incineradora",type:"legendary",components:[I,v,{id:19645,name:"Don de Incineradora",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24548,name:"Sello superior de fuego",count:1},{id:19621,name:"Don del metal",type:"crafting_material",count:1,components:[{id:19685,name:"Lingote de oricalco",count:250},{id:19684,name:"Lingote de mithril",count:250},{id:19681,name:"Lingote de aceroscuro",count:250},{id:19686,name:"Lingote de platino",count:250}]},{id:19634,name:"Vial de llama líquida",type:"crafting_material",count:1,components:[{id:19633,name:"Vial de azogue",count:1},{id:12544,name:"Chile fantasma",count:250},{id:24315,name:"Piedra imán fundida",count:100},{id:24325,name:"Piedra imán de destructor",count:100}]}]},{id:29167,name:"Chispa",type:"weapon",count:1}]},30698:{id:30698,name:"El Bifrost",type:"legendary",components:[I,v,{id:19654,name:"Don del Bifrost",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24572,name:"Sello superior de invalidación",count:1},{id:19623,name:"Don de la energía",type:"crafting_material",count:1,components:[{id:24274,name:"Montón de polvo radiante",count:250},{id:24275,name:"Montón de polvo luminoso",count:250},{id:24276,name:"Montón de polvo incandescente",count:250},{id:24277,name:"Montón de polvo cristalino",count:250}]},{id:19638,name:"Don del color",type:"crafting_material",count:1,components:[{id:19669,name:"Don de Zhaitan",count:1},{id:24522,name:"Orbe de ópalo",count:100},{id:24277,name:"Montón de polvo cristalino",count:250},{id:20323,name:"Tinte sin identificar",count:100}]}]},{id:29180,name:"La Leyenda (precursora)",type:"weapon",count:1}]},30686:{id:30686,name:"El Soñador",type:"legendary",components:[I,v,{id:19660,name:"Don del Soñador",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24571,name:"Sello superior de pureza",count:1},{id:19622,name:"Don de la madera",type:"crafting_material",count:1,components:[{id:19712,name:"Tabla de madera antigua",count:250},{id:19709,name:"Tabla de madera ancestral",count:250},{id:19711,name:"Tabla de madera sólida",count:250},{id:19714,name:"Tabla de madera curtida",count:250}]},{id:19628,name:"Estatua de unicornio",type:"crafting_material",count:1,components:[{id:19667,name:"Don de las espinas",count:1},{id:19685,name:"Lingote de oricalco",count:250},{id:24522,name:"Orbe de ópalo",count:100},{id:24512,name:"Orbe de crisocola",count:100}]}]},{id:29172,name:"El Amante (precursora)",type:"weapon",count:1}]},30694:{id:30694,name:"El Depredador",type:"legendary",components:[I,v,{id:19661,name:"Don del Depredador",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24615,name:"Sello superior de fuerza",count:1},{id:19622,name:"Don de la madera",type:"crafting_material",count:1,components:[{id:19712,name:"Tabla de madera antigua",count:250},{id:19709,name:"Tabla de madera ancestral",count:250},{id:19711,name:"Tabla de madera sólida",count:250},{id:19714,name:"Tabla de madera curtida",count:250}]},{id:19636,name:"Don del sigilo",type:"crafting_material",count:1,components:[{id:19671,name:"Don del conocimiento",count:1},{id:19685,name:"Lingote de oricalco",count:250},{id:12512,name:"Trufa orriana",count:250},{id:24310,name:"Piedra imán de ónice",count:100}]}]},{id:29175,name:"El Cazador (precursora)",type:"weapon",count:1}]},30701:{id:30701,name:"Kraitkin",type:"legendary",components:[I,v,{id:19658,name:"Don de Kraitkin",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24632,name:"Sello superior de veneno",count:1},{id:19623,name:"Don de la energía",type:"crafting_material",count:1,components:[{id:24277,name:"Montón de polvo cristalino",count:250},{id:24276,name:"Montón de polvo incandescente",count:250},{id:24275,name:"Montón de polvo luminoso",count:250},{id:24274,name:"Montón de polvo radiante",count:250}]},{id:19642,name:"Estatua de anguila",type:"crafting_material",count:1,components:[{id:19666,name:"Don del herrador",count:1},{id:24289,name:"Escama blindada",count:250},{id:19737,name:"Retal de cuero curado endurecido",count:250},{id:19685,name:"Lingote de oricalco",count:250}]}]},{id:29183,name:"Veneno (precursora)",type:"weapon",count:1}]},30691:{id:30691,name:"Kamohoali'i Kotaki",type:"legendary",components:[I,v,{id:19657,name:"Don de Kamohoali'i Kotaki",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24612,name:"Sello superior de agonía",count:1},{id:19621,name:"Don del metal",type:"crafting_material",count:1,components:[{id:19685,name:"Lingote de oricalco",count:250},{id:19684,name:"Lingote de mithril",count:250},{id:19681,name:"Lingote de aceroscuro",count:250},{id:19686,name:"Lingote de platino",count:250}]},{id:19641,name:"Estatua de tiburón",type:"crafting_material",count:1,components:[{id:19669,name:"Don de Zhaitan",count:1},{id:19685,name:"Lingote de oricalco",count:250},{id:24289,name:"Escama blindada",count:250},{id:24295,name:"Vial de sangre poderosa",count:250}]}]},{id:29171,name:"Carcharias (precursora)",type:"weapon",count:1}]},30697:{id:30697,name:"Frenesí",type:"legendary",components:[I,v,{id:19659,name:"Don del Frenesí",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24561,name:"Sello superior de rabia",count:1},{id:19622,name:"Don de la madera",type:"crafting_material",count:1,components:[{id:19712,name:"Tabla de madera antigua",count:250},{id:19709,name:"Tabla de madera ancestral",count:250},{id:19711,name:"Tabla de madera sólida",count:250},{id:19714,name:"Tabla de madera curtida",count:250}]},{id:19643,name:"Don del agua",type:"crafting_material",count:1,components:[{id:19670,name:"Don del Santuario",count:1},{id:19685,name:"Lingote de oricalco",count:250},{id:24315,name:"Piedra imán fundida",count:250},{id:24320,name:"Piedra imán glacial",count:100}]}]},{id:29183,name:"Veneno (precursora)",type:"weapon",count:1}]},30685:{id:30685,name:"Kudzu",type:"legendary",components:[I,v,{id:19644,name:"Don de Kudzu",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24865,name:"Sello superior de celeridad",count:1},{id:19622,name:"Don de la madera",type:"crafting_material",count:1,components:[{id:19712,name:"Tabla de madera antigua",count:250},{id:19709,name:"Tabla de madera ancestral",count:250},{id:19711,name:"Tabla de madera sólida",count:250},{id:19714,name:"Tabla de madera curtida",count:250}]},{id:19627,name:"Don de la naturaleza",type:"crafting_material",count:1,components:[{id:19667,name:"Don de las espinas",count:1},{id:12128,name:"Baya omnom",count:250},{id:19737,name:"Retal de cuero curado endurecido",count:250},{id:19712,name:"Tabla de madera antigua",count:250}]}]},{id:29171,name:"Hoja de Kudzu (precursora)",type:"weapon",count:1}]},30690:{id:30690,name:"El Juggernaut",type:"legendary",components:[I,v,{id:19649,name:"Don del Juggernaut",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24584,name:"Sello superior de benevolencia",count:1},{id:19621,name:"Don del metal",type:"crafting_material",count:1,components:[{id:19685,name:"Lingote de oricalco",count:250},{id:19684,name:"Lingote de mithril",count:250},{id:19681,name:"Lingote de aceroscuro",count:250},{id:19686,name:"Lingote de platino",count:250}]},{id:19633,name:"Vial de azogue",type:"crafting_material",count:1,components:[{id:19666,name:"Don del herrador",count:1},{id:19688,name:"Lingote de acero",count:250},{id:24315,name:"Piedra imán fundida",count:150},{id:24502,name:"Doblón de plata",count:250}]}]},{id:29170,name:"El Coloso (precursora)",type:"weapon",count:1}]},30703:{id:30703,name:"Amanecer",type:"legendary",components:[I,v,{id:19647,name:"Don del Amanecer",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24562,name:"Sello superior de fortaleza",count:1},{id:19621,name:"Don del metal",type:"crafting_material",count:1,components:[{id:19685,name:"Lingote de oricalco",count:250},{id:19684,name:"Lingote de mithril",count:250},{id:19681,name:"Lingote de aceroscuro",count:250},{id:19686,name:"Lingote de platino",count:250}]},{id:19632,name:"Don de la luz",type:"crafting_material",count:1,components:[{id:19664,name:"Don de Ascalon",count:1},{id:19685,name:"Lingote de oricalco",count:250},{id:19737,name:"Retal de cuero curado endurecido",count:250},{id:24305,name:"Piedra imán cargada",count:100}]}]},{id:29169,name:"Alba (precursora)",type:"weapon",count:1}]},30702:{id:30702,name:"Aullador",type:"legendary",components:[I,v,{id:19662,name:"Don de Aullador",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24618,name:"Sello superior de precisión",count:1},{id:19622,name:"Don de la madera",type:"crafting_material",count:1,components:[{id:19712,name:"Tabla de madera antigua",count:250},{id:19709,name:"Tabla de madera ancestral",count:250},{id:19711,name:"Tabla de madera sólida",count:250},{id:19714,name:"Tabla de madera curtida",count:250}]},{id:19640,name:"Estatua de lobo",type:"crafting_material",count:1,components:[{id:19667,name:"Don de las espinas",count:1},{id:19737,name:"Retal de cuero curado endurecido",count:250},{id:19685,name:"Lingote de oricalco",count:250},{id:24351,name:"Colmillo feroz",count:250}]}]},{id:29184,name:"Aullido (precursora)",type:"weapon",count:1}]},30700:{id:30700,name:"Rodgort",type:"legendary",components:[I,v,{id:19656,name:"Don de Rodgort",type:"crafting_material",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24548,name:"Sello superior de fuego",count:1},{id:19622,name:"Don de la madera",type:"crafting_material",count:1,components:[{id:19712,name:"Tabla de madera antigua",count:250},{id:19709,name:"Tabla de madera ancestral",count:250},{id:19711,name:"Tabla de madera sólida",count:250},{id:19714,name:"Tabla de madera curtida",count:250}]},{id:19634,name:"Vial de llama líquida",type:"crafting_material",count:1,components:[{id:19629,name:"Don de la historia",count:1},{id:12544,name:"Chile fantasma",count:250},{id:24315,name:"Piedra imán fundida",count:100},{id:24325,name:"Piedra imán de destructor",count:100}]}]},{id:29182,name:"Llama de Rodgort (precursora)",type:"weapon",count:1}]},30704:{id:30704,name:"Crepúsculo",type:"legendary",components:[I,v,{id:19648,name:"Don del Crepúsculo",type:"gift",count:1,components:[{id:19676,name:"Piedra rúnica helada",count:100},{id:24651,name:"Sello superior de sangre",count:1},{id:19621,name:"Don del metal",type:"crafting_material",count:1,components:[{id:19685,name:"Lingote de oricalco",count:250},{id:19684,name:"Lingote de mithril",count:250},{id:19681,name:"Lingote de aceroscuro",count:250},{id:19686,name:"Lingote de platino",count:250}]},{id:19631,name:"Don de la oscuridad",type:"crafting_material",count:1,components:[{id:19664,name:"Don de Ascalon",count:1},{id:19685,name:"Lingote de oricalco",count:250},{id:19737,name:"Retal de cuero curado endurecido",count:250},{id:24310,name:"Piedra imán de ónice",count:100}]}]},{id:29185,name:"Anochecer (precursora)",type:"precursor",count:1}]}};function E(e){return!!D[e]}const w={96033:{name:"Don de dominio de jade",type:"crafting_material"},97433:{name:"Don del Imperio del Dragón",type:"crafting_material"},96722:{name:"Piedra rúnica de jade",type:"crafting_material"},97102:{name:"Pedazo de jade puro",type:"crafting_material"},96347:{name:"Pedazo de ámbar gris antiguo",type:"crafting_material"},97829:{name:"Bendición de la Emperatriz de Jade",type:"account_bound"},20797:{name:"Esquirla de hematites",type:"crafting_material"},96978:{name:"Piedra de invocación vetusta",type:"crafting_material"},97096:{name:"Don de Cantha",type:"account_bound"},96993:{name:"Don de la Provincia de Seitung",type:"account_bound"},95621:{name:"Don de la ciudad de Nueva Kaineng",type:"account_bound"},97232:{name:"Don del Bosque Echovald",type:"account_bound"},96083:{name:"Don de Muerte del Dragón",type:"account_bound"},96137:{name:"Tributo dracónico",type:"crafting_material"},19675:{name:"Trébol místico",type:"crafting_material"},19976:{name:"Moneda mística",type:"currency"},19721:{name:"Pegote de ectoplasma",type:"crafting_material"},19925:{name:"Esquirla de obsidiana",type:"crafting_material"},20799:{name:"Cristal místico",type:"crafting_material"},20796:{name:"Piedra filosofal",type:"crafting_material"},70867:{name:"Don de poder condensado",type:"account_bound"},70801:{name:"Don de garras",type:"account_bound"},75299:{name:"Don de escamas",type:"account_bound"},71123:{name:"Don de huesos",type:"account_bound"},75744:{name:"Don de colmillos",type:"account_bound"},76530:{name:"Don de magia condensada",type:"account_bound"},71655:{name:"Don de sangre",type:"account_bound"},71787:{name:"Don de veneno",type:"account_bound"},73236:{name:"Don de tótems",type:"account_bound"},73196:{name:"Don de polvo",type:"account_bound"},92687:{name:"Piedra imán dracónica amalgamada",type:"crafting_material"},71581:{name:"Memoria de batalla",type:"crafting_material"},70820:{name:"Esquirla de gloria",type:"crafting_material"},97655:{name:"Don de investigación",type:"crafting_material"},46747:{name:"Reactivo termocatalítico",type:"crafting_material"},95813:{name:"Reactivo hidrocatalítico",type:"crafting_material"},45178:{name:"Esencia de la suerte exótica",type:"currency"},76427:{name:"Don de la niebla",type:"account_bound"},70528:{name:"Don de gloria",type:"account_bound"},19678:{name:"Don de la batalla",type:"account_bound"},71008:{name:"Don de guerra",type:"account_bound"},73137:{name:"Cubo de energía oscura estabilizada",type:"crafting_material"},71994:{name:"Bola de energía oscura",type:"crafting_material"},73248:{name:"Matriz estabilizadora",type:"crafting_material"},96151:{name:"Relato de aventura",type:"crafting_material"},97790:{name:"Insignia de farolero",type:"crafting_material"},71148:{name:"Hoja de papel supremo",type:"crafting_material"},97160:{name:"Poema sobre hachas",type:"crafting_material"},96187:{name:"Poema sobre dagas",type:"crafting_material"},96035:{name:"Poema sobre mazas",type:"crafting_material"},95809:{name:"Poema sobre pistolas",type:"crafting_material"},96173:{name:"Poema sobre cetros",type:"crafting_material"},97335:{name:"Poema sobre espadas",type:"crafting_material"},96951:{name:"Poema sobre focos",type:"crafting_material"},95740:{name:"Poema sobre escudos",type:"crafting_material"},97257:{name:"Poema sobre antorchas",type:"crafting_material"},96341:{name:"Poema sobre cuernos de guerra",type:"crafting_material"},96036:{name:"Poema sobre mandobles",type:"crafting_material"},97082:{name:"Poema sobre martillos",type:"crafting_material"},97800:{name:"Poema sobre arcos largos",type:"crafting_material"},97201:{name:"Poema sobre rifles",type:"crafting_material"},96849:{name:"Poema sobre arcos cortos",type:"crafting_material"},95962:{name:"Poema sobre bastones",type:"crafting_material"},79418:{name:"Piedra rúnica mística",type:"crafting_material"},45845:{name:"Filo para hacha de acero de Deldrimor",type:"crafting_material"},45846:{name:"Filo para daga de acero de Deldrimor",type:"crafting_material"},45852:{name:"Cabeza para maza de acero de Deldrimor",type:"crafting_material"},45833:{name:"Cañón para pistola de acero de Deldrimor",type:"crafting_material"},45885:{name:"Núcleo para cetro de madera espiritual",type:"crafting_material"},45848:{name:"Filo para espada de acero de Deldrimor",type:"crafting_material"},45884:{name:"Núcleo para foco de madera espiritual",type:"crafting_material"},45858:{name:"Umbo para escudo de acero de Deldrimor",type:"crafting_material"},45838:{name:"Cabezal para antorcha de acero de Deldrimor",type:"crafting_material"},45839:{name:"Cuerno de acero de Deldrimor",type:"crafting_material"},45847:{name:"Filo para mandoble de acero de Deldrimor",type:"crafting_material"},45851:{name:"Cabeza para martillo de acero de Deldrimor",type:"crafting_material"},45841:{name:"Duela para arco largo de madera espiritual",type:"crafting_material"},45834:{name:"Cañón para rifle de acero de Deldrimor",type:"crafting_material"},45842:{name:"Duela para arco corto de madera espiritual",type:"crafting_material"},45887:{name:"Cabezal para báculo de madera espiritual",type:"crafting_material"},97449:{name:"Desgarro Dracónico (precursora)",type:"weapon"},95967:{name:"Garra Dracónica (precursora)",type:"weapon"},96827:{name:"Cola Dracónica (precursora)",type:"weapon"},96915:{name:"Razonamiento Dracónico (precursora)",type:"weapon"},96193:{name:"Sabiduría Dracónica (precursora)",type:"weapon"},95994:{name:"Colmillo Dracónico (precursora)",type:"weapon"},96303:{name:"Mirada Dracónica (precursora)",type:"weapon"},97691:{name:"Escama Dracónica (precursora)",type:"weapon"},96925:{name:"Aliento Dracónico (precursora)",type:"weapon"},97513:{name:"Voz Dracónica (precursora)",type:"weapon"},96357:{name:"Mordisco Dracónico (precursora)",type:"weapon"},95920:{name:"Peso Dracónico (precursora)",type:"weapon"},95834:{name:"Vuelo Dracónico (precursora)",type:"weapon"},97267:{name:"Persuasión Dracónica (precursora)",type:"weapon"},96330:{name:"Ala Dracónica (precursora)",type:"weapon"},95814:{name:"Reflexión Dracónica (precursora)",type:"weapon"},96937:{name:"Desgarro de Aurene",type:"legendary"},96203:{name:"Garra de Aurene",type:"legendary"},95612:{name:"Cola de Aurene",type:"legendary"},95808:{name:"Razonamiento de Aurene",type:"legendary"},96221:{name:"Sabiduría de Aurene",type:"legendary"},95675:{name:"Colmillo de Aurene",type:"legendary"},97165:{name:"Mirada de Aurene",type:"legendary"},96028:{name:"Escama de Aurene",type:"legendary"},97099:{name:"Aliento de Aurene",type:"legendary"},97783:{name:"Voz de Aurene",type:"legendary"},96356:{name:"Mordisco de Aurene",type:"legendary"},95684:{name:"Peso de Aurene",type:"legendary"},97590:{name:"Vuelo de Aurene",type:"legendary"},97377:{name:"Persuasión de Aurene",type:"legendary"},97077:{name:"Ala de Aurene",type:"legendary"},96652:{name:"Reflexión de Aurene",type:"legendary"},24295:{name:"Vial de sangre poderosa",type:"crafting_material"},24283:{name:"Vesícula de veneno poderoso",type:"crafting_material"},24300:{name:"Tótem elaborado",type:"crafting_material"},24277:{name:"Montón de polvo cristalino",type:"crafting_material"},24357:{name:"Colmillo feroz",type:"crafting_material"},24289:{name:"Escama blindada",type:"crafting_material"},24351:{name:"Garra despiadada",type:"crafting_material"},24358:{name:"Hueso antiguo",type:"crafting_material"},24294:{name:"Vial de sangre potente",type:"crafting_material"},24282:{name:"Vesícula de veneno potente",type:"crafting_material"},24299:{name:"Tótem intrincado",type:"crafting_material"},24276:{name:"Montón de polvo incandescente",type:"crafting_material"},24356:{name:"Colmillo grande",type:"crafting_material"},24288:{name:"Escama grande",type:"crafting_material"},24350:{name:"Garra grande",type:"crafting_material"},24341:{name:"Hueso grande",type:"crafting_material"},24293:{name:"Vial de sangre espesa",type:"crafting_material"},24281:{name:"Vesícula de veneno llena",type:"crafting_material"},24298:{name:"Tótem grabado",type:"crafting_material"},24275:{name:"Montón de polvo luminoso",type:"crafting_material"},24355:{name:"Colmillo afilado",type:"crafting_material"},24287:{name:"Escama suave",type:"crafting_material"},24349:{name:"Garra afilada",type:"crafting_material"},24345:{name:"Hueso pesado",type:"crafting_material"},24292:{name:"Vial de sangre",type:"crafting_material"},24280:{name:"Vesícula de veneno",type:"crafting_material"},24297:{name:"Tótem",type:"crafting_material"},24274:{name:"Montón de polvo radiante",type:"crafting_material"},24354:{name:"Colmillo",type:"crafting_material"},24286:{name:"Escama",type:"crafting_material"},24348:{name:"Garra",type:"crafting_material"},24344:{name:"Hueso",type:"crafting_material"}},T={id:96033,name:"Don de dominio de jade",type:"crafting_material",count:1,components:[{id:97433,name:"Don del Imperio del Dragón",count:1,components:[{id:96722,name:"Piedra rúnica de jade",count:100},{id:97102,name:"Pedazo de jade puro",count:200},{id:96347,name:"Pedazo de ámbar gris antiguo",count:100},{id:97829,name:"Bendición de la Emperatriz de Jade",count:5,type:"account_bound"}]},{id:20797,name:"Esquirla de hematites",count:200},{id:97096,name:"Don de Cantha",type:"account_bound",count:1,components:[{id:96993,name:"Don de la Provincia de Seitung",count:1,type:"account_bound"},{id:95621,name:"Don de la ciudad de Nueva Kaineng",count:1,type:"account_bound"},{id:97232,name:"Don del Bosque Echovald",count:1,type:"account_bound"},{id:96083,name:"Don de Muerte del Dragón",count:1,type:"account_bound"}]},{id:96978,name:"Piedra de invocación vetusta",count:100}]},C={id:96137,name:"Tributo dracónico",type:"crafting_material",count:1,components:[{id:19675,name:"Trébol místico",type:"account_bound",count:38,components:[{id:19976,name:"Moneda mística",count:38},{id:19721,name:"Pegote de ectoplasma",count:38},{id:19925,name:"Esquirla de obsidiana",count:38},{id:20799,name:"Cristal místico",count:38}]},{id:92687,name:"Piedra imán dracónica amalgamada",count:5},{id:70867,name:"Don de poder condensado",type:"account_bound",count:1,components:[{id:70801,name:"Don de garras",type:"account_bound",count:1,components:[{id:24351,name:"Garra despiadada",count:100},{id:24350,name:"Garra grande",count:250},{id:24349,name:"Garra afilada",count:50},{id:24348,name:"Garra",count:50}]},{id:75299,name:"Don de escamas",type:"account_bound",count:1,components:[{id:24289,name:"Escama blindada",count:100},{id:24288,name:"Escama grande",count:250},{id:24287,name:"Escama suave",count:50},{id:24286,name:"Escama",count:50}]},{id:71123,name:"Don de huesos",type:"account_bound",count:1,components:[{id:24358,name:"Hueso antiguo",count:100},{id:24341,name:"Hueso grande",count:250},{id:24345,name:"Hueso pesado",count:50},{id:24344,name:"Hueso",count:50}]},{id:75744,name:"Don de colmillos",type:"account_bound",count:1,components:[{id:24357,name:"Colmillo feroz",count:100},{id:24356,name:"Colmillo grande",count:250},{id:24355,name:"Colmillo afilado",count:50},{id:24354,name:"Colmillo",count:50}]}]},{id:76530,name:"Don de magia condensada",type:"account_bound",count:1,components:[{id:71655,name:"Don de sangre",type:"account_bound",count:1,components:[{id:24295,name:"Vial de sangre poderosa",count:100},{id:24294,name:"Vial de sangre potente",count:250},{id:24293,name:"Vial de sangre espesa",count:50},{id:24292,name:"Vial de sangre",count:50}]},{id:71787,name:"Don de veneno",type:"account_bound",count:1,components:[{id:24283,name:"Vesícula de veneno poderoso",count:100},{id:24282,name:"Vesícula de veneno potente",count:250},{id:24281,name:"Vesícula de veneno llena",count:50},{id:24280,name:"Vesícula de veneno",count:50}]},{id:73236,name:"Don de tótems",type:"account_bound",count:1,components:[{id:24300,name:"Tótem elaborado",count:100},{id:24299,name:"Tótem intrincado",count:250},{id:24298,name:"Tótem grabado",count:50},{id:24297,name:"Tótem",count:50}]},{id:73196,name:"Don de polvo",type:"account_bound",count:1,components:[{id:24277,name:"Montón de polvo cristalino",count:100},{id:24276,name:"Montón de polvo incandescente",count:250},{id:24275,name:"Montón de polvo luminoso",count:50},{id:24274,name:"Montón de polvo radiante",count:50}]}]}]},L={type:"account_bound",count:1,components:[{id:79418,name:"Piedra rúnica mística",count:100,type:"crafting_material"},{id:97655,name:"Don de Investigación",type:"account_bound",count:1,components:[{id:46747,name:"Reactivo termocatalítico",count:250,type:"crafting_material"},{id:95813,name:"Reactivo hidrocatalítico",count:250,type:"crafting_material"},{id:45178,name:"Esencia de la suerte exótica",count:250,type:"currency"}]},{id:76427,name:"Don de la Niebla",type:"account_bound",count:1,components:[{id:70528,name:"Don de gloria",count:1,type:"account_bound",components:[{id:70820,name:"Esquirla de gloria",count:250,type:"crafting_material"}]},{id:19678,name:"Don de la batalla",count:1,type:"account_bound"},{id:71008,name:"Don de guerra",count:1,type:"account_bound",components:[{id:71581,name:"Memoria de batalla",count:250,type:"crafting_material"}]},{id:73137,name:"Cubo de energía oscura estabilizada",type:"crafting_material",count:1,components:[{id:71994,name:"Bola de energía oscura",count:1,type:"crafting_material"},{id:73248,name:"Matriz estabilizadora",count:75,type:"crafting_material"}]}]}]};const A=(e,a,n)=>{const t=function(e){const a={hacha:["hacha","desgarro"],daga:["daga","garra"],maza:["maza","cola"],pistola:["pistola","razonamiento"],cetro:["cetro","sabiduría"],espada:["espada","colmillo"],foco:["foco","mirada"],escudo:["escudo","escama"],antorcha:["antorcha","aliento"],cuerno:["cuerno","voz"],mandoble:["mandoble","mordisco"],martillo:["martillo","peso"],arco_largo:["arco largo","vuelo"],rifle:["rifle","persuasión"],arco_corto:["arco corto","ala"],baston:["báculo","reflexión"]},n=e.toLowerCase();for(const[e,t]of Object.entries(a))if(t.some(e=>n.includes(e)))return e;return"desconocido"}(a);return{id:{hacha:97160,daga:96187,maza:96035,pistola:95809,cetro:96173,espada:97335,foco:96951,escudo:95740,antorcha:97257,cuerno:96341,mandoble:96036,martillo:97082,arco_largo:97800,rifle:97201,arco_corto:96849,baston:95962}[t]||0,name:`Poema sobre ${a}`,type:"account_bound",count:1,components:[{id:96151,name:"Relato de aventura",count:10,type:"crafting_material"},{id:97790,name:"Insignia de farolero",count:10,type:"crafting_material"},{id:n,name:(i=n,w[i]?.name||`Material ${i}`),count:1,type:"crafting_material"},{id:71148,name:"Hoja de papel supremo",count:1,type:"crafting_material"}]};var i},N=(e,a,n)=>{const t=JSON.parse(JSON.stringify(L));return t.id=e,t.name=`Don de ${a}`,t.components.unshift(A(0,a,n)),t},M={"Desgarro de Aurene":{id:96937,materialId:45845,precursorId:97449},"Garra de Aurene":{id:96203,materialId:45846,precursorId:95967},"Cola de Aurene":{id:95612,materialId:45852,precursorId:96827},"Razonamiento de Aurene":{id:95808,materialId:45833,precursorId:96915},"Sabiduría de Aurene":{id:96221,materialId:45885,precursorId:96193},"Colmillo de Aurene":{id:95675,materialId:45848,precursorId:95994},"Mirada de Aurene":{id:97165,materialId:45884,precursorId:96303},"Escama de Aurene":{id:96028,materialId:45858,precursorId:97691},"Aliento de Aurene":{id:97099,materialId:45838,precursorId:96925},"Voz de Aurene":{id:97783,materialId:45839,precursorId:97513},"Mordisco de Aurene":{id:96356,materialId:45847,precursorId:96357},"Peso de Aurene":{id:95684,materialId:45851,precursorId:95920},"Vuelo de Aurene":{id:97590,materialId:45841,precursorId:95834},"Persuasión de Aurene":{id:97377,materialId:45834,precursorId:97267},"Ala de Aurene":{id:97077,materialId:45842,precursorId:96330},"Reflexión de Aurene":{id:96652,materialId:45887,precursorId:95814}},S=Object.fromEntries(Object.keys(M).map(e=>{const a=(e=>{const a=M[e];return a?{id:a.id,name:e,type:"legendary",components:[{...T},{...C},N(a.id,e,a.materialId),{id:a.precursorId,name:`${e.replace(" de Aurene"," Dracónic"+(e.endsWith("a")?"a":"o"))} (precursora)`,type:"weapon"}]}:null})(e);return[a.id,a]}));function B(e){return String(e)in w}class z{constructor(e){this.getItemById=e.getItemById,this.items=e.items||[],this.createIngredientTree=e.createIngredientTree,this.isBasicMaterial=e.isBasicMaterial||(()=>!1),this.quickLoadButtons=e.quickLoadButtons||{},this.customPriceTexts=e.customPriceTexts||[];const a=e.elementIds||{};this.craftingTreeEl=document.getElementById(a.craftingTree),this.skeletonEl=a.skeleton?document.getElementById(a.skeleton):null,this.summaryEl=document.getElementById(a.summary),this.summaryContentEl=document.getElementById(a.summaryContent),this.loadTreeBtn=a.loadTree?document.getElementById(a.loadTree):null,this.clearCacheBtn=a.clearCache?document.getElementById(a.clearCache):null,this.itemIdInput=a.itemIdInput?document.getElementById(a.itemIdInput):null,this.itemNameInput=a.itemNameInput?document.getElementById(a.itemNameInput):null,this.currentTree=null,this.isLoading=!1,this.activeButton=null,this.workerTotals={totalBuy:0,totalSell:0,totalCrafted:0},this.calculateComponentsPrice=this.calculateComponentsPrice.bind(this),this.initializeEventListeners()}_setActiveButton(e){document.querySelectorAll(".item-tab-btn-treeleg").forEach(e=>e.classList.remove("active")),e?(e.classList.add("active"),this.activeButton=e):this.activeButton=null}_findButtonIdByItemId(e){const a=String(e),n=Object.entries(this.quickLoadButtons).find(([e,n])=>n.itemId===a);return n?n[0]:null}_handleQuickLoad(e){const a=document.getElementById(e);if(!a)return;const n=this.quickLoadButtons[e];n&&(this.itemIdInput&&(this.itemIdInput.value=n.itemId),this.itemNameInput&&(this.itemNameInput.value=n.itemName||""),this._setActiveButton(a),this.loadItem({itemId:n.itemId}))}initializeEventListeners(){this.loadTreeBtn&&this.loadTreeBtn.addEventListener("click",()=>{this._setActiveButton(null),this.loadItem({itemId:this.itemIdInput?.value,itemName:this.itemNameInput?.value})}),this.clearCacheBtn&&this.clearCacheBtn.addEventListener("click",()=>{this.clearCache(),this._setActiveButton(null)}),Object.keys(this.quickLoadButtons).forEach(e=>{const a=document.getElementById(e);a&&a.addEventListener("click",()=>this._handleQuickLoad(e))})}async updateTotals(){if(this.currentTree)try{const e=[_(this.currentTree)];e.forEach(h);const{updatedTree:a,totals:n}=await async function(e,a=1){return await t({ingredientTree:e,globalQty:a})||{updatedTree:null,totals:null}}(e,1);Array.isArray(a)&&a[0]&&b(a[0],this.currentTree),this.workerTotals=n||{totalBuy:0,totalSell:0,totalCrafted:0}}catch(e){console.warn("costsWorker no disponible, usando cálculo local",e);const a=this.currentTree.calculateTotals();this.workerTotals={totalBuy:a.buy||0,totalSell:a.sell||0,totalCrafted:a.buy||0}}}async loadItem({itemId:e,itemName:a}){const n=parseInt(e),t=a?a.toLowerCase():"";if(n||t){this.setLoading(!0);try{let o=null;if(n&&(o=this.getItemById(n)),!o&&t&&(o=this.items.find(e=>e.name.toLowerCase()===t)),!o)throw new Error(`No se encontró información local para el ítem: ${a||e}`);this.itemIdInput&&o.id&&(this.itemIdInput.value=o.id);const c=this._findButtonIdByItemId(o.id);if(c){const e=document.getElementById(c);this._setActiveButton(e)}else this._setActiveButton(null);const l=Array.from(g(o));l.length&&await async function(e=[]){if(!Array.isArray(e)||0===e.length)return;const a=e.map(e=>Number(e)).filter(e=>Number.isFinite(e)&&e>0).filter(e=>!d.items.has(e)||!d.prices.has(e));if(0!==a.length)try{const e=await i(a,{fields:"priceMap,iconMap,rarityMap,itemMap"});e.priceMap.forEach((e,a)=>{u(a,e)}),e.iconMap&&e.iconMap.forEach((e,a)=>{"string"==typeof e&&e&&s(a,{icon:e})}),e.rarityMap&&e.rarityMap.forEach((e,a)=>{e&&s(a,{rarity:e})}),e.itemMap&&e.itemMap.forEach((e,a)=>{e&&"object"==typeof e&&s(a,e)}),d.meta=e.meta||d.meta||null;const n=a.filter(e=>{const a=d.items.get(e),n=d.prices.get(e);return!(a&&n)});if(n.length>0)try{(await r(n)).forEach((e,a)=>{const t=n[a];e&&p(t,e)})}catch(e){console.warn("[LegendaryCrafting] No se pudieron precargar bundles de respaldo",e)}}catch(e){console.warn("[LegendaryCrafting] No se pudo precargar el agregado de bundle",e)}}(l),this.currentTree=await this.createIngredientTree(o),await this.updateTotals(),await this.renderTree(),this.renderSummary()}catch(e){console.error("Error al cargar el árbol:",e),this.showError(`Error: ${e.message}`)}finally{this.setLoading(!1)}}else this.showError("Por favor ingresa un ID o nombre de ítem válido")}async renderTree(){if(this.currentTree&&this.craftingTreeEl){this.craftingTreeEl.innerHTML="";try{await this.renderIngredient(this.currentTree,this.craftingTreeEl),this.summaryEl.style.display="block"}catch(e){console.error("Error al renderizar el árbol de crafteo:",e),this.craftingTreeEl.innerHTML='\n        <div class="error">\n          <p>Error al cargar el árbol de crafteo. Por favor, inténtalo de nuevo.</p>\n          <button id="retry-load-tree" class="btn">Reintentar</button>\n        </div>';const a=document.getElementById("retry-load-tree");a&&a.addEventListener("click",()=>this.loadItem({itemId:this.itemIdInput?.value,itemName:this.itemNameInput?.value}))}}}async renderIngredient(e,a,n=0){if(!e)return;const t=document.createElement("div");t.className="tree-node";const i=e.components&&e.components.length>0,o=n<2;let r="item-card-treeleg";e.type?.includes("legendary")&&(r+=" legendary"),e.type?.includes("precursor")&&(r+=" precursor"),"account_bound"===e.type&&(r+=" account-bound");try{const c=await this.getIconUrl(e),d="function"==typeof getRarityClass?getRarityClass(e.rarity):"",l=e.name?e.name.toLowerCase():"",m=this.customPriceTexts.find(e=>{if(!e)return!1;const a=e.name?e.name.toLowerCase():"",n=a&&a===l,t=e.keywords&&e.keywords.some(e=>l.includes(e.toLowerCase()));return n||t}),s=["vial de sangre poderosa","vial de sangre potente","vial de sangre fuerte","vial de sangre","vial de sangre débil"],u=l.includes("vial")&&!s.some(e=>l===e),p=i,y=e.type?.includes("legendary"),g=e.buyPrice>0,f=e.sellPrice>0,_=!m&&(this.isBasicMaterial(e.id)||e.isPriceLoaded()||y&&(g||f));let h="number"==typeof e.total_buy?e.total_buy:e.getTotalBuyPrice(),b="number"==typeof e.total_sell?e.total_sell:e.getTotalSellPrice();if((!h||!b)&&p){const a=this.calculateComponentsPrice(e);!h&&a.buy>0&&(h=a.buy),!b&&a.sell>0&&(b=a.sell)}let D="";if(m)D=m.display;else if((e.isPriceLoaded()||y||p)&&(h>0||b>0)){const e=h>0?`Compra: ${formatGold(h)}`:"Compra: N/A";D=`${e} | ${b>0?`Venta: ${formatGold(b)}`:"Venta: N/A"}${g&&f||!p?"":" (calculado de componentes)"}`}else D=p?"Precio calculado de los componentes":u?"No comerciable":"Precio no disponible";const I=_?"has-price":m?"custom-text":"no-price",v=_?`<div class="price-row"><span class="price-label">Compra:</span><span class="price-amount">${formatGoldColored(h)}</span></div><div class="price-row"><span class="price-label">Venta:</span><span class="price-amount">${formatGoldColored(b)}</span></div>`:m?m.display:"";if(t.innerHTML=`\n        <div class="${r}">\n          ${i?`<button class="toggle-children" data-expanded="${o}">${o?"−":"+"}</button>`:'<div style="width: 24px;"></div>'}\n          <img class="item-icon" src="${c}" alt="${e.name||"Item"}" title="${e.name||"Item"}" onerror="this.onerror=null;this.src='${this._getDefaultIconUrl()}';">\n          <div class="item-name ${d}">\n            ${y?`<a href="/item?id=${e.id}" class="item-link" target="_blank">${e.name||"Item"}</a>`:e.name||"Item"}\n          </div>\n            <div class="item-details">\n              ${e.count>1?`<span class="item-count">x${Math.round(e.count)}</span>`:""}\n              <div class="item-price-container ${I}" title="${D}">\n              ${v}\n            </div>\n          </div>\n        </div>`,a.appendChild(t),i){const i=t.querySelector(".toggle-children");i&&i.addEventListener("click",e=>{e.stopPropagation();const a=t.nextElementSibling;"true"===i.getAttribute("data-expanded")?(a.style.display="none",i.textContent="+",i.setAttribute("data-expanded","false")):(a.style.display="block",i.textContent="−",i.setAttribute("data-expanded","true"))});const r=document.createElement("div");r.className="sub-items",r.style.display=o?"block":"none",a.appendChild(r);const c=e.components.map(e=>this.renderIngredient(e,r,n+1));await Promise.all(c)}}catch(e){console.error("Error al renderizar ingrediente:",e),t.innerHTML='<div class="item-card-treeleg"><div class="item-name">Error al cargar el ítem</div></div>',a.appendChild(t)}}showMessage(e){const a=document.createElement("div");a.className="message",a.textContent=e,this.craftingTreeEl&&(this.craftingTreeEl.innerHTML="",this.craftingTreeEl.appendChild(a),setTimeout(()=>{a.parentNode===this.craftingTreeEl&&this.craftingTreeEl.removeChild(a)},3e3))}showError(e){this.craftingTreeEl&&(this.craftingTreeEl.innerHTML=`<div class="error"><strong>Error:</strong> ${e}</div>`),this.summaryEl&&(this.summaryEl.style.display="none")}renderProfitSummary(e,a,n){if(!this.summaryEl||!e||!n)return;this.summaryEl.querySelectorAll(".summary-profit").forEach(e=>e.remove());const t=Math.round(.85*e-n),i=Math.round(.85*a-n),o=document.createElement("div");o.className="summary-profit",o.innerHTML=`\n      <h3>Resumen de Ganancias</h3>\n      <div class="summary-subsection">\n        <h4>Por venta listada</h4>\n        <div class="summary-item"><span>Precio de venta (85%):</span><span>${formatGoldColored(Math.round(.85*e))}</span></div>\n        <div class="summary-item"><span>Costo de crafteo:</span><span>${formatGoldColored(n)}</span></div>\n        <div class="summary-item profit-total"><strong>Ganancia estimada:</strong><strong style="color: ${t>=0?"var(--success)":"var(--error)"};">${formatGoldColored(t)}</strong></div>\n      </div>\n      <div class="summary-subsection" style="margin-top: 15px;">\n        <h4>Por venta directa</h4>\n        <div class="summary-item"><span>Precio de compra (85%):</span><span>${formatGoldColored(Math.round(.85*a))}</span></div>\n        <div class="summary-item"><span>Costo de crafteo:</span><span>${formatGoldColored(n)}</span></div>\n        <div class="summary-item profit-total"><strong>Ganancia estimada:</strong><strong style="color: ${i>=0?"var(--success)":"var(--error)"};">${formatGoldColored(i)}</strong></div>\n      </div>\n      <div class="summary-note"><small>Nota: Los precios de materiales mostrados están calculados de acuerdo a la oferta y demanda del mercado. Y no contempla otros métodos de obtención como puede ser la "Forja Mística".</small><br><small>Nota 2: El precio para el trébol místico se ocupa la cantidad promedio que se requiere para obtener los 77 tréboles, por lo que según el RNG puede variar.</small></div>`,this.summaryEl.appendChild(o)}renderSummary(){if(!this.currentTree)return;const e=this.currentTree.getTotalBuyPrice(),a=this.currentTree.getTotalSellPrice(),n=this.workerTotals?this.workerTotals.totalBuy:this.calculateComponentsPrice(this.currentTree).buy;let t=`\n      <div class="summary-item"><span>Precio venta:</span><span>${a>0?formatGoldColored(a):"N/A"}</span></div>\n      <div class="summary-item"><span>Precio compra:</span><span>${e>0?formatGoldColored(e):"N/A"}</span></div>`;n>0&&(t+=`<div class="summary-item"><strong>Costo de crafteo total:</strong><strong>${formatGoldColored(n)}</strong></div>`),0===n&&(t+='<div class="summary-item"><span>Información de crafteo:</span><span>No disponible para todos los componentes</span></div>'),this.summaryContentEl.innerHTML=t,e>0&&a>0&&n>0&&this.renderProfitSummary(a,e,n)}setLoading(e){this.isLoading=e,this.skeletonEl&&this.skeletonEl.classList.toggle("hidden",!e),this.craftingTreeEl&&e&&(this.craftingTreeEl.innerHTML=""),this.summaryEl&&this.summaryEl.classList.toggle("hidden",e)}async getIconUrl(e){if(!e)return this._getDefaultIconUrl();try{return"function"==typeof e._generateIconUrl?await e._generateIconUrl():e.icon?e.icon.startsWith("http")?e.icon:e.icon.includes("/")?`https://render.guildwars2.com/file/${e.icon}`:`https://render.guildwars2.com/file/${e.icon}.png`:e.id?`https://render.guildwars2.com/file/${e.id}.png`:this._getDefaultIconUrl()}catch(e){return console.error("[getIconUrl] Error al obtener icono",e),this._getDefaultIconUrl()}}calculateComponentsPrice(e){return e.components&&0!==e.components.length?e.components.reduce((e,a)=>{const n=a.buyPrice>0?a.buyPrice*a.count:0,t=a.sellPrice>0?a.sellPrice*a.count:0,i=this.calculateComponentsPrice(a),o=i.buy*a.count,r=i.sell*a.count;return{buy:e.buy+n+o,sell:e.sell+t+r}},{buy:0,sell:0}):{buy:0,sell:0}}_getDefaultIconUrl(){return"https://render.guildwars2.com/file/0120CB0368B7953F0D3BD2A0C9100BCF0839FF4D/219035.png"}clearCache(){const n=d.meta?.snapshotId||null,t=e?e("bundle_"):0,i=!a||a();if(d.prices.clear(),d.items.clear(),d.meta=null,n&&"undefined"!=typeof window)try{window.navigator?.serviceWorker?.controller?.postMessage({type:"invalidateMany",snapshotIds:[n]})}catch(e){console.warn("[LegendaryCrafting] No se pudo notificar al service worker",e)}!1!==i&&t>=0?(alert("Caché limpiado correctamente"),this.currentTree&&this.loadItem({itemId:this.itemIdInput?.value,itemName:this.itemNameInput?.value})):alert("Error al limpiar la caché")}}"undefined"!=typeof window&&(window.LegendaryUtils={LegendaryCraftingBase:z,Ingredient:f});window.appFirstGen=new z({getItemById:e=>{return a=parseInt(e),P[a]||D[a]||null;var a},items:Object.values(P),createIngredientTree:async function e(a,t=null){if(!a)return null;let i=m(a.id);i||(i=await y(a.id));const o=new f(a.id,a.name||i?.name||`Item ${a.id}`,a.type||i?.type||null,i?.rarity||a.rarity||null,a.count||1,t);if(i?.icon&&(o.icon=c(i.icon)),!o.icon&&a.icon)if(a.icon.startsWith("http")||a.icon.startsWith("//"))o.icon=a.icon;else{const e=a.icon.startsWith("file/")?a.icon.substring(5):a.icon;o.icon=`https://render.guildwars2.com/file/${e}`}a.source&&(o.source=a.source);const r=l(o.id);if(r&&(null!=r.buy_price||null!=r.sell_price)){const e=Number.isFinite(r.buy_price)?r.buy_price:0,a=Number.isFinite(r.sell_price)?r.sell_price:0;o.setPrices(e,a)}const d=[20799,20797,19675,19925,20796,97829,96137,45178,73137,71994,95813,79418];if(19676===o.id)o.setPrices(1e4,1e4);else if(E(o.id)&&!((e,a)=>{if(d.includes(e))return!0;if(a){const e=a.toLowerCase();return e.includes("bendición")||e.includes("tributo")||e.includes("esencia de la suerte")||e.startsWith("don de")||e.endsWith("gift")}return!1})(o.id,o.name)&&!o.isPriceLoaded())try{const e=await n(o.id);e?o.setPrices(e.buy_price||0,e.sell_price||0):(console.warn(`Precios no disponibles para ${o.name} (${o.id})`),o.setPrices(0,0))}catch(e){console.warn(`Error al cargar precios para ${o.name} (${o.id}):`,e.message),o.setPrices(0,0)}if(a.components&&Array.isArray(a.components)){return(await Promise.allSettled(a.components.map(a=>e(a,o)))).forEach(e=>{"fulfilled"===e.status&&e.value&&o.addComponent(e.value)}),o}return o},isBasicMaterial:E,quickLoadButtons:{btnTwilight:{id:"btnTwilight",itemId:"30704",itemName:"Crepúsculo"},btnFrostfang:{id:"btnFrostfang",itemId:"30684",itemName:"Colmillo escarcha"},btnIncineradora:{id:"btnIncineradora",itemId:"30687",itemName:"Incineradora"},btnFestin:{id:"btnFestin",itemId:"30692",itemName:"El Festín"},btnMeteorologico:{id:"btnMeteorologico",itemId:"30695",itemName:"Meteorológico"},btnHaz:{id:"btnHaz",itemId:"30699",itemName:"Haz"},btnJuglar:{id:"btnJuglar",itemId:"30688",itemName:"El Juglar"},btnKotaki:{id:"btnKotaki",itemId:"30691",itemName:"Kamohoali'i Kotaki"},btnKraitkin:{id:"btnKraitkin",itemId:"30701",itemName:"Kraitkin"},btnProfecias:{id:"btnProfecias",itemId:"30696",itemName:"Las Profecías del Buscador de la Llama"},btnRodgort:{id:"btnRodgort",itemId:"30700",itemName:"Rodgort"},btnAullador:{id:"btnAullador",itemId:"30702",itemName:"Aullador"},btnAmanecer:{id:"btnAmanecer",itemId:"30703",itemName:"Amanecer"},btnJuggernaut:{id:"btnJuggernaut",itemId:"30690",itemName:"El Juggernaut"},btnKudzu:{id:"btnKudzu",itemId:"30685",itemName:"Kudzu"},btnDepredador:{id:"btnDepredador",itemId:"30694",itemName:"El Depredador"},btnSonador:{id:"btnSonador",itemId:"30686",itemName:"El Soñador"},btnBifrost:{id:"btnBifrost",itemId:"30698",itemName:"El Bifrost"},btnFrenesi:{id:"btnFrenesi",itemId:"30697",itemName:"Frenesí"}},customPriceTexts:[{name:"Don de la exploración",display:"Recompensa por completar mapas",keywords:["exploraci"]},{name:"Don de la batalla",display:"Recompensa por completar la ruta del don de la batalla en WvW",keywords:["don de la batalla"]},{name:"Esquirla de hematites",display:"Se compra en la forja mística",keywords:["hematites"]},{name:"Esquirla de obsidiana",display:"Se compra por karma con NPC",keywords:["obsidiana"]}],elementIds:{craftingTree:"craftingTree",skeleton:"craftingTreeSkeleton",summary:"summary",summaryContent:"summaryContent",clearCache:"clearCache"}});window.appThirdGen=new z({getItemById:e=>{return a=parseInt(e),S[a]||null;var a},items:Object.values(S),createIngredientTree:async function e(a,t=null){if(!a)return null;let i=m(a.id);i||(i=await y(a.id));const o=new f(a.id,a.name||i?.name||`Item ${a.id}`,a.type||i?.type||null,i?.rarity||a.rarity||null,a.count||1,t);if(i?.icon&&(o.icon=c(i.icon)),!o.icon&&a.icon)if(a.icon.startsWith("http")||a.icon.startsWith("//"))o.icon=a.icon;else{const e=a.icon.startsWith("file/")?a.icon.substring(5):a.icon;o.icon=`https://render.guildwars2.com/file/${e}`}a.source&&(o.source=a.source);const r=l(o.id);if(r&&(null!=r.buy_price||null!=r.sell_price)){const e=Number.isFinite(r.buy_price)?r.buy_price:0,a=Number.isFinite(r.sell_price)?r.sell_price:0;o.setPrices(e,a)}const d=[97829,96137,20799,19925,20796,45178,73137,71994,95813,79418,19675,45845,45846,45852,45833,45885,45848,45884,45858,45838,45839,45847,45851,45841,45834,45842,45887,97160,96187,96035,95809,96173,97335,96951,95740,97257,96341,96036,97082,97800,97201,96849,95962];if(79418===o.id)o.setPrices(1e4,1e4);else{if(92687===o.id||96978===o.id){const e=o.id,a=o.name;if(!o.isPriceLoaded())try{const a=await n(e);a?o.setPrices(a.buy_price||0,a.sell_price||0):o.setPrices(0,0)}catch(e){console.warn(`[ERROR] Error al cargar precios para ${a}:`,e.message),o.setPrices(0,0)}return o}if(B(o.id)&&!((e,a)=>{if(d.includes(e))return!0;if(a){const n=a.toLowerCase();return!(!n.includes("esquirla")||70820===e)||(!!n.includes("trébol")||(!!n.includes("trebol")||(!!n.includes("piedra rúnica mística")||(!!n.includes("bendición")||(!!n.includes("tributo")||(!!n.includes("esencia")||(!!n.includes("energía")||(!!n.includes("energia")||(!!n.startsWith("don de")||(!!n.includes(" gift")||!!n.endsWith("gift")))))))))))}return!1})(o.id,o.name)&&!o.isPriceLoaded())if(o.name.toLowerCase().startsWith("don de")||o.name.toLowerCase().includes("gift"))o.setPrices(0,0);else try{const e=await n(o.id);e?o.setPrices(e.buy_price||0,e.sell_price||0):o.setPrices(0,0)}catch(e){console.warn(`[ERROR] Error al cargar precios para ${o.name} (${o.id}):`,e.message),o.setPrices(0,0)}}if(a.components&&Array.isArray(a.components)){return(await Promise.allSettled(a.components.map(a=>e(a,o)))).forEach(e=>{"fulfilled"===e.status&&e.value&&o.addComponent(e.value)}),o}return o},isBasicMaterial:B,quickLoadButtons:{btnDesgarro:{id:"btnDesgarro",itemId:"96937",itemName:"Desgarro de Aurene"},btnGarra:{id:"btnGarra",itemId:"96203",itemName:"Garra de Aurene"},btnCola:{id:"btnCola",itemId:"95612",itemName:"Cola de Aurene"},btnRazonamiento:{id:"btnRazonamiento",itemId:"95808",itemName:"Razonamiento de Aurene"},btnSabiduria:{id:"btnSabiduria",itemId:"96221",itemName:"Sabiduría de Aurene"},btnColmillo:{id:"btnColmillo",itemId:"95675",itemName:"Colmillo de Aurene"},btnMirada:{id:"btnMirada",itemId:"97165",itemName:"Mirada de Aurene"},btnEscama:{id:"btnEscama",itemId:"96028",itemName:"Escama de Aurene"},btnAliento:{id:"btnAliento",itemId:"97099",itemName:"Aliento de Aurene"},btnVoz:{id:"btnVoz",itemId:"97783",itemName:"Voz de Aurene"},btnMordisco:{id:"btnMordisco",itemId:"96356",itemName:"Mordisco de Aurene"},btnPeso:{id:"btnPeso",itemId:"95684",itemName:"Peso de Aurene"},btnVuelo:{id:"btnVuelo",itemId:"97590",itemName:"Vuelo de Aurene"},btnPersuasion:{id:"btnPersuasion",itemId:"97377",itemName:"Persuasión de Aurene"},btnAla:{id:"btnAla",itemId:"97077",itemName:"Ala de Aurene"},btnReflexion:{id:"btnReflexion",itemId:"96652",itemName:"Reflexión de Aurene"}},customPriceTexts:[{name:"Don de la exploración",display:"Recompensa por completar mapas",keywords:["exploraci"]},{name:"Don de la batalla",display:"Recompensa por completar la ruta del don de la batalla en WvW",keywords:["don de la batalla"]},{name:"Esquirla de hematites",display:"Se compra en la forja mística",keywords:["hematites"]},{name:"Esquirla de obsidiana",display:"Se compra por karma con NPC",keywords:["obsidiana"]}],elementIds:{craftingTree:"craftingTreeThird",skeleton:"craftingTreeSkeletonThird",summary:"summaryThird",summaryContent:"summaryContentThird",loadTree:"loadTreeThird",clearCache:"clearCacheThird",itemIdInput:"itemIdThird",itemNameInput:"itemNameThird"}}),window.LEGENDARY_ITEMS=P,window.LEGENDARY_ITEMS_3GEN=S,window.LegendaryData={LEGENDARY_ITEMS:P,LEGENDARY_ITEMS_3GEN:S,BASIC_MATERIALS:D,BASIC_MATERIALS_3GEN:w};
