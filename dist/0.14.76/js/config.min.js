const E={API_BASE_URL:"/api",DEFAULT_LANG:"es",FALLBACK_LANGS:["en"],MARKET_CSV_URL:"https://api.datawars2.ie/gw2/v1/items/csv",GW2_API_KEY:"",priceCacheStrategy:"sessionStorage",FEATURE_USE_PRECOMPUTED:!1,FEATURE_MARKET_CSV_EXTERNAL:!0,FEATURE_MARKET_CSV_EXTERNAL_WORKER:!1,FEATURE_DONES_AGGREGATE:!1,PRECOMPUTED_CANARY_THRESHOLD:1,FETCH_GUARD_MODE:"enforce",FETCH_GUARD_WHITELIST:[],CONNECT_ALLOWLIST:[],FETCH_GUARD_REPORT_URL:null,FEATURE_ITEM_API_ROLLOUT:!1};function _(E,_=!1){if("boolean"==typeof E)return E;if(null==E)return _;if("number"==typeof E)return Number.isNaN(E)?_:0!==E;const A=String(E).trim().toLowerCase();return A?!!["1","true","yes","on"].includes(A)||!["0","false","no","off"].includes(A)&&_:_}function A(E,A){if(A&&"object"==typeof A){if(Object.prototype.hasOwnProperty.call(A,"API_BASE_URL")&&null!=A.API_BASE_URL&&(E.API_BASE_URL=A.API_BASE_URL),Object.prototype.hasOwnProperty.call(A,"DEFAULT_LANG")&&A.DEFAULT_LANG&&(E.DEFAULT_LANG=A.DEFAULT_LANG),Object.prototype.hasOwnProperty.call(A,"LANG")&&A.LANG&&(E.DEFAULT_LANG=A.LANG),Object.prototype.hasOwnProperty.call(A,"MARKET_CSV_URL")&&A.MARKET_CSV_URL&&(E.MARKET_CSV_URL=A.MARKET_CSV_URL),Object.prototype.hasOwnProperty.call(A,"GW2_API_KEY")&&null!=A.GW2_API_KEY&&(E.GW2_API_KEY=A.GW2_API_KEY),Object.prototype.hasOwnProperty.call(A,"priceCacheStrategy")&&A.priceCacheStrategy?E.priceCacheStrategy=A.priceCacheStrategy:Object.prototype.hasOwnProperty.call(A,"PRICE_CACHE_STRATEGY")&&A.PRICE_CACHE_STRATEGY&&(E.priceCacheStrategy=A.PRICE_CACHE_STRATEGY),Object.prototype.hasOwnProperty.call(A,"FEATURE_USE_PRECOMPUTED")&&(E.FEATURE_USE_PRECOMPUTED=A.FEATURE_USE_PRECOMPUTED),Object.prototype.hasOwnProperty.call(A,"FEATURE_MARKET_CSV_EXTERNAL")?E.FEATURE_MARKET_CSV_EXTERNAL=A.FEATURE_MARKET_CSV_EXTERNAL:Object.prototype.hasOwnProperty.call(A,"FEATURE_MARKET_CSV_INTERNAL")&&(E.FEATURE_MARKET_CSV_EXTERNAL=!_(A.FEATURE_MARKET_CSV_INTERNAL,!0)),Object.prototype.hasOwnProperty.call(A,"FEATURE_MARKET_CSV_EXTERNAL_WORKER")&&(E.FEATURE_MARKET_CSV_EXTERNAL_WORKER=A.FEATURE_MARKET_CSV_EXTERNAL_WORKER),Object.prototype.hasOwnProperty.call(A,"FEATURE_DONES_AGGREGATE")&&(E.FEATURE_DONES_AGGREGATE=A.FEATURE_DONES_AGGREGATE),Object.prototype.hasOwnProperty.call(A,"FEATURE_ITEM_API_ROLLOUT")&&(E.FEATURE_ITEM_API_ROLLOUT=A.FEATURE_ITEM_API_ROLLOUT),Object.prototype.hasOwnProperty.call(A,"PRECOMPUTED_CANARY_THRESHOLD")&&(E.PRECOMPUTED_CANARY_THRESHOLD=A.PRECOMPUTED_CANARY_THRESHOLD),Object.prototype.hasOwnProperty.call(A,"FETCH_GUARD_MODE")&&"string"==typeof A.FETCH_GUARD_MODE&&(E.FETCH_GUARD_MODE=A.FETCH_GUARD_MODE),Object.prototype.hasOwnProperty.call(A,"FETCH_GUARD_WHITELIST")){const _=A.FETCH_GUARD_WHITELIST;if(Array.isArray(_))E.FETCH_GUARD_WHITELIST=[..._];else if("string"==typeof _){const A=_.split(",").map(E=>E.trim()).filter(Boolean);E.FETCH_GUARD_WHITELIST=A}}if(Object.prototype.hasOwnProperty.call(A,"CONNECT_ALLOWLIST")&&Array.isArray(A.CONNECT_ALLOWLIST)&&(E.CONNECT_ALLOWLIST=[...A.CONNECT_ALLOWLIST]),Object.prototype.hasOwnProperty.call(A,"FALLBACK_LANGS")){const _=A.FALLBACK_LANGS;Array.isArray(_)?E.FALLBACK_LANGS=[..._]:"string"==typeof _&&(E.FALLBACK_LANGS=_.split(",").map(E=>E.trim()).filter(Boolean))}else if(Object.prototype.hasOwnProperty.call(A,"FALLBACK_LANG")){const _=A.FALLBACK_LANG;"string"==typeof _&&(E.FALLBACK_LANGS=_.split(",").map(E=>E.trim()).filter(Boolean))}if(Object.prototype.hasOwnProperty.call(A,"FETCH_GUARD_REPORT_URL")){const _=A.FETCH_GUARD_REPORT_URL;null!=_&&"string"!=typeof _||(E.FETCH_GUARD_REPORT_URL=_)}}}function T(){const T={...E,FETCH_GUARD_WHITELIST:[...E.FETCH_GUARD_WHITELIST],CONNECT_ALLOWLIST:[...E.CONNECT_ALLOWLIST]},t=("undefined"!=typeof globalThis?globalThis.window&&"object"==typeof globalThis.window?globalThis.window:globalThis.self&&"object"==typeof globalThis.self?globalThis.self:globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0)||("undefined"!=typeof globalThis?globalThis:void 0),R=t&&"object"==typeof t.Config?t.Config:null,e=t&&"object"==typeof t.__RUNTIME_CONFIG__?t.__RUNTIME_CONFIG__:null,L=t&&"object"==typeof t.__SECURE_RUNTIME_CONFIG__?t.__SECURE_RUNTIME_CONFIG__:null;A(T,R),A(T,e),A(T,L),T.FEATURE_USE_PRECOMPUTED=_(T.FEATURE_USE_PRECOMPUTED,E.FEATURE_USE_PRECOMPUTED),T.FEATURE_MARKET_CSV_EXTERNAL=_(T.FEATURE_MARKET_CSV_EXTERNAL,E.FEATURE_MARKET_CSV_EXTERNAL),T.FEATURE_MARKET_CSV_EXTERNAL_WORKER=_(T.FEATURE_MARKET_CSV_EXTERNAL_WORKER,E.FEATURE_MARKET_CSV_EXTERNAL_WORKER),T.FEATURE_ITEM_API_ROLLOUT=_(T.FEATURE_ITEM_API_ROLLOUT,E.FEATURE_ITEM_API_ROLLOUT);const o=Number(T.PRECOMPUTED_CANARY_THRESHOLD);T.PRECOMPUTED_CANARY_THRESHOLD=Number.isFinite(o)?Math.min(Math.max(o,0),100):E.PRECOMPUTED_CANARY_THRESHOLD;const r=Array.isArray(T.FALLBACK_LANGS)?T.FALLBACK_LANGS:"string"==typeof T.FALLBACK_LANGS?T.FALLBACK_LANGS.split(","):[],C=String(T.DEFAULT_LANG||E.DEFAULT_LANG).trim().toLowerCase();T.FALLBACK_LANGS=[...new Set(r.map(E=>"string"==typeof E?E.trim().toLowerCase():"").filter(E=>E&&E!==C))],T.LANG=T.DEFAULT_LANG||E.DEFAULT_LANG;const O=String(T.LANG||"").trim().toLowerCase();return T.FALLBACK_LANGS=T.FALLBACK_LANGS.filter(E=>E&&E!==O),T}export{T as g};
